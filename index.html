<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ ì€ì‚¬ ë°œê²¬ í…ŒìŠ¤íŠ¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');

        :root {
            --primary-color: #5a67d8;
            --primary-light: #ebf4ff;
            --background-color: #f7fafc;
            --card-background: #ffffff;
            --text-dark: #2d3748;
            --text-light: #718096;
            --border-color: #e2e8f0;
            --white: #fff;
            --success-color: #48bb78;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--background-color);
            color: var(--text-dark);
            /* ë°ìŠ¤í¬í†±ì—ì„œëŠ” ìƒí•˜ì¢Œìš° ì—¬ë°± ìœ ì§€ */
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* ì½˜í…ì¸ ê°€ ê¸¸ì–´ì§ˆ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ flex-startë¡œ ë³€ê²½ */
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 700px;
        }

        .test-wrapper, #results {
            background-color: var(--card-background);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
            padding: 40px;
            margin-bottom: 30px;
            width: 100%; /* ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì • */
        }

        h1 {
            color: var(--text-dark);
            text-align: center;
            margin-bottom: 15px;
            font-size: 2em;
            font-weight: 700;
        }

        .instructions {
            text-align: center;
            color: var(--text-light);
            background-color: var(--primary-light);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .instructions p { margin: 8px 0; }
        .instructions strong { color: var(--primary-color); }

        .progress-container { margin-bottom: 30px; }
        .progress-bar-bg { width: 100%; height: 12px; background-color: var(--border-color); border-radius: 6px; overflow: hidden; }
        .progress-bar-fg { width: 0%; height: 100%; background-color: var(--primary-color); border-radius: 6px; transition: width 0.4s ease-in-out; }
        .progress-text { text-align: right; font-size: 0.9em; color: var(--text-light); margin-top: 8px; font-weight: 500; }

        .question-card {
            margin-bottom: 15px;
            padding: 20px 25px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            transition: box-shadow 0.2s ease, border-color 0.2s ease;
        }

        .question-card:focus-within {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        .question-text { font-weight: 500; line-height: 1.6; flex-grow: 1; }
        .score-selector { display: flex; gap: 10px; flex-shrink: 0; }

        .score-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid var(--border-color);
            background-color: var(--card-background);
            color: var(--text-light);
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .score-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        .score-btn.selected {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: var(--white);
            transform: scale(1.1);
        }

        .submit-button {
            display: block;
            width: 100%;
            padding: 18px;
            font-size: 1.2em;
            font-weight: 700;
            color: var(--white);
            background: linear-gradient(45deg, #5a67d8, #7f9cf5);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            margin-top: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(90, 103, 216, 0.4);
        }

        .submit-button:hover {
            opacity: 0.9;
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(90, 103, 216, 0.5);
        }

        #results {
            margin-top: 30px;
            display: none;
        }
        
        #results h2 { text-align: center; color: var(--text-dark); margin-bottom: 30px; }
        
        .result-item { display: flex; align-items: center; margin-bottom: 25px; }
        .result-item:last-child { margin-bottom: 0; }
        .rank { font-size: 1.8em; font-weight: 700; color: var(--text-light); width: 60px; text-align: center;}
        .result-details { flex-grow: 1; }
        .gift-name { font-size: 1.25em; font-weight: 700; margin: 0 0 10px 0; color: var(--text-dark); }
        .progress-bar-container { width: 100%; background-color: var(--border-color); border-radius: 8px; height: 22px; overflow: hidden; }
        .progress-bar { 
            height: 100%; 
            background: linear-gradient(90deg, var(--success-color), #81e6d9);
            width: 0%; 
            border-radius: 8px; 
            transition: width 1.5s cubic-bezier(0.25, 1, 0.5, 1);
            display: flex; 
            align-items: center; 
            justify-content: flex-end;
            color: var(--white); 
            font-size: 0.9em;
            font-weight: 700;
            padding-right: 10px;
        }

        /* --- ìŠ¤ë§ˆíŠ¸í° í™”ë©´ì„ ìœ„í•œ ìˆ˜ì • --- */
        @media (max-width: 700px) {
            body {
                /* ëª¨ë°”ì¼ì—ì„œëŠ” bodyì˜ ì¢Œìš° ì—¬ë°±ì„ ì—†ì• ê³  ìƒí•˜ ì—¬ë°±ë§Œ ì¤Œ */
                padding: 20px 0;
            }
            .container {
                 /* ì»¨í…Œì´ë„ˆì— ì¢Œìš° ì—¬ë°±ì„ ì£¼ì–´ ì½˜í…ì¸ ê°€ í™”ë©´ ëì— ë¶™ì§€ ì•Šê²Œ í•¨ */
                padding: 0 15px;
            }
            .test-wrapper, #results {
                 /* ëª¨ë°”ì¼ì—ì„œ ë‚´ë¶€ ì—¬ë°±ì„ ì‚´ì§ ì¤„ì—¬ì¤Œ */
                padding: 25px;
            }
            h1 { font-size: 1.7em; }
            .question-card { flex-direction: column; align-items: flex-start; gap: 15px; }
            .score-selector { align-self: center; width: 100%; justify-content: space-around; }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="test-wrapper">
            <h1>âœ¨ ì€ì‚¬ ë°œê²¬ í…ŒìŠ¤íŠ¸ âœ¨</h1>
            <div class="instructions">
                <p>ìƒ¬ë¡¬ :) <br> ì—¬ëŸ¬ë¶„ì˜ ì€ì‚¬ê°€ ë‹¤ì‹œ ë¶ˆ ë¶™ê¸°ë¥¼ ê¿ˆ ê¾¸ë©° <br> ì€ì‚¬í…ŒìŠ¤íŠ¸ë¥¼ ì¤€ë¹„í•´ ë´¤ì–´ìš”! <br> ì´ë²ˆ ì•„ì›ƒë¦¬ì¹˜ê°€ ì—´ë°© ë¿ ì•„ë‹ˆë¼ <br> ìš°ë¦¬ ì„œë¡œë¥¼ ì„¸ìš°ëŠ” ì‚¬ë‘ì˜ ì—¬ì • ë˜ê¸¸ <br>ë§ˆìŒ ë‹¤í•´ ì¶•ë³µí•©ë‹ˆë‹¤! - <strong>í™</strong></p>
                <p><br><br>ê° ë¬¸í•­ì´ ìì‹ ì—ê²Œ ì–¼ë§ˆë‚˜ í•´ë‹¹í•˜ëŠ”ì§€ <br><strong>ìˆ«ì</strong>ë¥¼ ëˆŒëŸ¬ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                <p><strong>3</strong>: ë§¤ìš° ê·¸ë ‡ë‹¤, <strong>2</strong>: ëŒ€ì²´ë¡œ ê·¸ë ‡ë‹¤, <strong>1</strong>: ì¡°ê¸ˆ ê·¸ë ‡ë‹¤, <strong>0</strong>: ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</p>
            </div>

            <form id="gifts-form">
                <div class="progress-container">
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fg" id="progress-bar"></div>
                    </div>
                    <div class="progress-text" id="progress-text">0 / 90</div>
                </div>

                <div id="questions-container"></div>
                <button type="submit" class="submit-button">ê²°ê³¼ í™•ì¸í•˜ê¸°</button>
            </form>
        </div>

        <div id="results">
            <h2>ë‚˜ì˜ ì€ì‚¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼</h2>
            <div id="results-list"></div>
        </div>
    </div>

    <script>
        // ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ì´ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤.
        const giftsData = [
            { id: 'pastoring', name: 'ì–‘ìœ¡', questions: [
                { id: 2, text: 'ì‚¬ëŒë“¤ì˜ ì„±ê³µê³¼ ì‹¤íŒ¨ì˜ ê³¼ì •ì„ ê¾¸ì¤€íˆ í•¨ê»˜í•˜ë©° ê·¸ë“¤ì˜ ì„±ì¥ì„ ë•ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤.' },
                { id: 27, text: 'ê³µë™ì²´ ì§€ì²´ë“¤ì˜ ì˜ì ì¸ ì„±ì¥ì„ ë•ëŠ” ê²ƒì— ì±…ì„ê°ì„ ëŠë¼ë©°, ê·¸ ì—­í• ì„ ê¸°ì˜ê²Œ ê°ë‹¹í•©ë‹ˆë‹¤.' },
                { id: 52, text: 'ì‚¬ëŒë“¤ì„ ì˜ì ìœ¼ë¡œ ì´ëŒê³  ì§€ë„í•˜ëŠ” ì¼ì— í° ë¶€ë‹´ê°ì´ë‚˜ ë‘ë ¤ì›€ì´ ì—†ìŠµë‹ˆë‹¤.' },
                { id: 77, text: 'ë™ë£Œ ì‹ ì•™ì¸ë“¤ì„ ë§ì”€ìœ¼ë¡œ ê²©ë ¤í•˜ê³ , ê·¸ë“¤ì„ ìœ„í•´ ê¸°ë„í•˜ë©° í•¨ê»˜ ë‚˜ì•„ê°€ëŠ” í¸ì…ë‹ˆë‹¤.' },
                { id: 102, text: 'ì£¼ë³€ ì‚¬ëŒë“¤ì€ ì €ì˜ ë„ì›€ì„ í†µí•´ ê³µë™ì²´ ìƒí™œì„ ë” ì˜í•˜ê²Œ ë˜ì—ˆë‹¤ê³  ì´ì•¼ê¸°í•©ë‹ˆë‹¤.' }
            ]},
            { id: 'teaching', name: 'ê°€ë¥´ì¹¨', questions: [
                { id: 3, text: 'ì‚¬ëŒë“¤ì€ ì œê°€ ì„±ê²½ì˜ ì§„ë¦¬ë¥¼ ì´í•´í•˜ê¸° ì‰½ê²Œ ì˜ ì„¤ëª…í•´ì¤€ë‹¤ê³  ë§í•©ë‹ˆë‹¤.' },
                { id: 28, text: 'ì„±ê²½ì˜ ê°€ë¥´ì¹¨ì„ ê³µë™ì²´ì— ì˜ ì ìš©í•˜ì—¬ ê±´ê°•í•œ ì„±ì¥ì„ ì´ë£° ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê²ƒì— ìì‹  ìˆìŠµë‹ˆë‹¤.' },
                { id: 53, text: 'ì„±ê²½ì˜ ì§„ë¦¬ë¥¼ ê¹Šì´ ì—°êµ¬í•˜ê³ , ê¹¨ë‹¬ì€ ê²ƒì„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë‚˜ëˆ„ê¸° ìœ„í•´ ì‹œê°„ì„ ê¸°êº¼ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.' },
                { id: 78, text: 'ì œê°€ ê°€ë¥´ì¹  ë•Œ, ì‚¬ëŒë“¤ì˜ ìƒê°ê³¼ ì‚¶ì˜ íƒœë„ê°€ ê¸ì •ì ìœ¼ë¡œ ë³€í™”ë˜ëŠ” ê²ƒì„ ìì£¼ ë´…ë‹ˆë‹¤.' },
                { id: 103, text: 'ì„±ê²½ì„ ê³µë¶€í•˜ê³  ê·¸ ë‚´ìš©ì„ ë‹¤ë¥¸ ì‚¬ëŒê³¼ ë‚˜ëˆ„ëŠ” ê²ƒì€ ì €ì—ê²Œ í° ê¸°ì¨ì…ë‹ˆë‹¤.' }
            ]},
            { id: 'wisdom', name: 'ì§€í˜œ', questions: [
                { id: 4, text: 'í•˜ë‚˜ë‹˜ì˜ ë§ì”€ì„ ì œ ì‚¶ì˜ ë¬¸ì œì— ì ìš©í•˜ì—¬ í•´ê²°ì±…ì„ ì°¾ëŠ”ë° ìµìˆ™í•©ë‹ˆë‹¤.' },
                { id: 29, text: 'ë³µì¡í•˜ê³  ì–´ë ¤ìš´ ë¬¸ì œì— ë¶€ë”ªí˜”ì„ ë•Œ, ìƒí™©ì„ ê¿°ëš«ëŠ” í†µì°°ë ¥ì´ë‚˜ í•´ê²°ì±…ì´ ë– ì˜¤ë¥¼ ë•Œê°€ ë§ìŠµë‹ˆë‹¤.' },
                { id: 54, text: 'ì‚¬ëŒë“¤ì´ ê³ ë¯¼ì„ í„¸ì–´ë†“ì„ ë•Œ, ìƒí™©ì— ë§ëŠ” ì„±ê²½ì ì¸ ì¡°ì–¸ì„ í•´ì£¼ê³¤ í•©ë‹ˆë‹¤.' },
                { id: 79, text: 'ì„±ê²½ì˜ ì§„ë¦¬ë¥¼ ì˜ ì´í•´í•˜ê³ , ë‹¤ë¥¸ ì‚¬ëŒì˜ í•„ìš”ì— ë§ê²Œ ì§€í˜œë¡­ê²Œ ì ìš©í•˜ì—¬ ë„ì™€ì¤€ë‹¤ëŠ” ë§ì„ ë“£ìŠµë‹ˆë‹¤.' },
                { id: 104, text: 'ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦´ ë•Œ, í•˜ë‚˜ë‹˜ê»˜ì„œ íŠ¹ë³„í•œ í™•ì‹ ê³¼ í‰ì•ˆì„ ì£¼ì‹œëŠ” ê²ƒì„ ê²½í—˜í•˜ê³¤ í•©ë‹ˆë‹¤.' }
            ]},
            { id: 'knowledge', name: 'ì§€ì‹', questions: [
                { id: 5, text: 'ì„±ê²½ì  ì§€ì‹ì´ë‚˜ ì˜ì ì¸ ì›ë¦¬ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  ì•Œê¸° ì‰½ê²Œ ì„¤ëª…í•˜ëŠ” ë° ì†Œì§ˆì´ ìˆìŠµë‹ˆë‹¤.' },
                { id: 30, text: 'ì‚¬ëŒë“¤ì´ í•˜ë‚˜ë‹˜ê»˜ ë” ê°€ê¹Œì´ ë‚˜ì•„ê°ˆ ìˆ˜ ìˆë„ë¡ ë•ëŠ” ì˜ì ì¸ í†µì°°ë ¥ì„ ìì£¼ ì–»ìŠµë‹ˆë‹¤.' },
                { id: 55, text: 'ì—°êµ¬ì™€ ê²½í—˜ì„ í†µí•´ í•˜ë‚˜ë‹˜ ë‚˜ë¼ì˜ ì¼ì„ ë” íš¨ê³¼ì ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ” ì „ëµê³¼ ë°©ë²•ì„ ë°œê²¬í•˜ê³¤ í•©ë‹ˆë‹¤.' },
                { id: 80, text: 'ì„±ê²½ì˜ ìƒˆë¡œìš´ ì§„ë¦¬ë¥¼ ê¹¨ë‹«ê¸° ìœ„í•´ ê¾¸ì¤€íˆ ì„±ê²½ì„ ì½ê³  ê³µë¶€í•˜ëŠ” ì‹œê°„ì„ ê°–ìŠµë‹ˆë‹¤.' },
                { id: 105, text: 'ì–´ë–¤ ìƒí™©ì„ ë§ˆì£¼í–ˆì„ ë•Œ, ê·¸ ì•ˆì—ì„œ ìƒˆë¡œìš´ ì˜ì ì¸ ì§„ë¦¬ë‚˜ êµí›ˆì„ ë°œê²¬í•˜ëŠ” í¸ì…ë‹ˆë‹¤.' }
            ]},
            { id: 'exhortation', name: 'ê¶Œë©´', questions: [
                { id: 6, text: 'ë‚™ì‹¬í•˜ê³  í˜ë“¤ì–´í•˜ëŠ” ì‚¬ëŒë“¤ì„ ì§„ì‹¬ ì–´ë¦° ë§ë¡œ ìœ„ë¡œí•˜ê³  ê²©ë ¤í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤.' },
                { id: 31, text: 'ì‚¬ëŒë“¤ì´ ì¢‹ì€ ì¼ì— ì°¸ì—¬í•˜ë„ë¡ ë™ê¸°ë¥¼ ë¶€ì—¬í•˜ê³  ìš©ê¸°ë¥¼ ë¶ë‹ì•„ ì£¼ëŠ” ê²ƒì— ëŠ¥ìˆ™í•©ë‹ˆë‹¤.' },
                { id: 56, text: 'ìŠ¬í””ì´ë‚˜ ì–´ë ¤ì›€ì— ì²˜í•œ ì‚¬ëŒë“¤ì´ ì €ì™€ ëŒ€í™”í•˜ê³  ë‚˜ë©´ ìœ„ë¡œë¥¼ ì–»ê³  ë¬¸ì œê°€ í•´ê²°ë˜ëŠ” ë° ë„ì›€ì„ ë°›ëŠ”ë‹¤ê³  ë§í•©ë‹ˆë‹¤.' },
                { id: 81, text: 'ì‹¤ë§ì— ë¹ ì§„ ì‚¬ëŒì´ë‚˜ ì£„ì±…ê°ìœ¼ë¡œ í˜ë“¤ì–´í•˜ëŠ” ì‚¬ëŒë“¤ì—ê²Œ íš¨ê³¼ì ì¸ ìƒë‹´ì„ í•´ì£¼ê³  ì‹¶ì€ ë§ˆìŒì´ ê°•í•©ë‹ˆë‹¤.' },
                { id: 106, text: 'ê³ ë‚œ ì¤‘ì— ìˆëŠ” ì‚¬ëŒë“¤ì—ê²Œ ì„±ê²½ ë§ì”€ìœ¼ë¡œ ì†Œë§ì„ ì£¼ë©° ì´ê²¨ë‚´ë„ë¡ ê¶Œë©´í•©ë‹ˆë‹¤.' }
            ]},
            { id: 'relationship', name: 'ê´€ê³„', questions: [
                { id: 301, text: 'ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ ì‰½ê²Œ ì¹œí•´ì§€ê³ , ì‚¬ëŒë“¤ì€ ì €ì™€ í•¨ê»˜ ìˆì„ ë•Œ í¸ì•ˆí•¨ì„ ëŠë‚€ë‹¤ê³  ë§í•©ë‹ˆë‹¤.' },
                { id: 302, text: 'ì‚¬ëŒë“¤ì€ ì €ì—ê²Œ ê³ ë¯¼ì„ ìì£¼ í„¸ì–´ë†“ìœ¼ë©°, ì €ì™€ ëŒ€í™”í•˜ë©´ ë§ˆìŒì´ ê°€ë²¼ì›Œì§„ë‹¤ê³  í•©ë‹ˆë‹¤.' },
                { id: 303, text: 'ê³µë™ì²´ì— ê°ˆë“±ì´ ìƒê²¼ì„ ë•Œ, ì¤‘ê°„ì—ì„œ ì–‘ìª½ì˜ ì…ì¥ì„ ì¡°ìœ¨í•˜ê³  í™”í•´ì‹œí‚¤ëŠ” ì—­í• ì„ ìì£¼ í•©ë‹ˆë‹¤.' },
                { id: 304, text: 'ì‚¬ëŒì„ íŒë‹¨í•˜ê¸°ë³´ë‹¤ ë¨¼ì € ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•˜ë©°, ì—´ë¦° ë§ˆìŒìœ¼ë¡œ ê´€ê³„ë¥¼ ë§ºìŠµë‹ˆë‹¤.' },
                { id: 305, text: 'ì‚¬ëŒë“¤ê³¼ ê¹Šì€ ê´€ê³„ë¥¼ ë§ºê³  ê·¸ ì•ˆì—ì„œ í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘ì„ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì €ì—ê²Œ í° ê¸°ì¨ì´ ë©ë‹ˆë‹¤.' }
            ]},
            { id: 'helps', name: 'ë„ì›€', questions: [
                { id: 9, text: 'ë¦¬ë”ë‚˜ ë‹¤ë¥¸ ì§€ì²´ë“¤ì´ ë§¡ì€ ì‚¬ì—­ì„ ì˜ ê°ë‹¹í•  ìˆ˜ ìˆë„ë¡ ë’¤ì—ì„œ ë•ëŠ” ê²ƒì„ ì¦ê±°ì›Œí•©ë‹ˆë‹¤.' },
                { id: 34, text: 'ì£¼ë³€ ì‚¬ëŒë“¤ì€ ì œê°€ ê·¸ë“¤ì˜ ì‚¬ì—­ì— ì‹¤ì§ˆì ì¸ ë„ì›€ì„ ì£¼ì—ˆë‹¤ê³  ìì£¼ ì´ì•¼ê¸°í•©ë‹ˆë‹¤.' },
                { id: 59, text: 'ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ í•˜ê¸° ì‹«ì–´í•˜ê±°ë‚˜ ì§€ë£¨í•˜ê²Œ ëŠë¼ëŠ” ì¼ì´ë¼ë„ ê¸°êº¼ì´ ë§¡ì•„ì„œ ì¦ê²ê²Œ í•©ë‹ˆë‹¤.' },
                { id: 84, text: 'ë“œëŸ¬ë‚˜ì§€ ì•Šê²Œ ë‹¤ë¥¸ ì‚¬ëŒì„ ë„ìš¸ ë•Œ ì¡°ìš©í•œ ê¸°ì¨ê³¼ ë³´ëŒì„ ëŠë‚ë‹ˆë‹¤.' },
                { id: 109, text: 'ì£¼ë‹˜ì˜ ì¼ì„ í•  ë•Œ, ëˆ„ê°€ ë” ë§ì€ ì¸ì •ì„ ë°›ëŠ”ì§€ì— í¬ê²Œ ì‹ ê²½ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤.' }
            ]},
            { id: 'mercy', name: 'ê¸íœ¼', questions: [
                { id: 10, text: 'ëª¸ì´ë‚˜ ë§ˆìŒì— ì•„í””ì´ ìˆëŠ” ì‚¬ëŒë“¤ì˜ ê³ í†µì— ê¹Šì´ ê³µê°í•˜ë©°, ê·¸ë“¤ì„ ë•ê³  ì‹¶ì–´ í•©ë‹ˆë‹¤.' },
                { id: 35, text: 'ì–´ë ¤ì›€ì— ì²˜í•œ ì‚¬ëŒë“¤ì˜ ì‹¤ì œì ì¸ í•„ìš”ë¥¼ ì±„ì›Œì£¼ê¸° ìœ„í•´ ì ê·¹ì ìœ¼ë¡œ ë‚˜ì„œëŠ” í¸ì…ë‹ˆë‹¤.' },
                { id: 60, text: 'ë³‘ì›ì´ë‚˜ ì–‘ë¡œì› ë“± ì†Œì™¸ëœ ì´ì›ƒì„ ì°¾ì•„ê°€ ìœ„ë¡œí•˜ê³  í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚´ëŠ” ê²ƒì— ë³´ëŒì„ ëŠë‚ë‹ˆë‹¤.' },
                { id: 85, text: 'ì‚¬ëŒë“¤ì€ ì–´ë ¤ìš´ ì´ì›ƒì„ ë„ì™€ì•¼ í•  ì¼ì´ ìƒê¸°ë©´ ì €ë¥¼ ë¨¼ì € ë– ì˜¬ë¦¬ê³¤ í•©ë‹ˆë‹¤.' },
                { id: 110, text: 'ì™¸ë¡œìš´ ì‚¬ëŒ, í˜¼ì ì‚¬ëŠ” ì‚¬ëŒ, ê°ì˜¥ì— ìˆëŠ” ì‚¬ëŒë“¤ì„ ìœ„í•´ ê¸°êº¼ì´ ì œ ì‹œê°„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.' }
            ]},
            { id: 'missionary', name: 'ì„ êµ', questions: [
                { id: 11, text: 'ë‚˜ì™€ ë‹¤ë¥¸ ë¬¸í™”ì  ë°°ê²½ì„ ê°€ì§„ ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦¬ëŠ” ê²ƒì„ ì¦ê¸°ë©°, ê·¸ë“¤ë„ ì €ë¥¼ í¸ì•ˆí•˜ê²Œ ëŒ€í•©ë‹ˆë‹¤.' },
                { id: 36, text: 'ë‹¤ë¥¸ ë¬¸í™”ê¶Œì˜ ì‚¬ëŒë“¤ì—ê²Œ ë³µìŒì„ ì „í•˜ê¸° ìœ„í•´ ì™¸êµ­ì–´ë¥¼ ë°°ìš°ëŠ” ê²ƒì— í¥ë¯¸ê°€ ìˆê³ , ë¹¨ë¦¬ ë°°ìš°ëŠ” í¸ì…ë‹ˆë‹¤.' },
                { id: 61, text: 'ìµìˆ™í•œ í™˜ê²½ì„ ë– ë‚˜ ìƒˆë¡œìš´ ë¬¸í™” ì†ì—ì„œ ì‚¬ëŠ” ê²ƒì— ëŒ€í•œ ë‘ë ¤ì›€ë³´ë‹¤ ê¸°ëŒ€ê°ì´ ë” í½ë‹ˆë‹¤.' },
                { id: 86, text: 'ë‹¤ì–‘í•œ ì‚¬ëŒë“¤ì—ê²Œ ë³µìŒì„ ì „í•  ìˆ˜ ìˆëŠ” ìƒí™©ì— ë†“ì¼ ë•Œ ê°€ì¥ í° ê¸°ì¨ê³¼ í¸ì•ˆí•¨ì„ ëŠë‚ë‹ˆë‹¤.' },
                { id: 111, text: 'ë¬¸í™”ì™€ ì–¸ì–´ê°€ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì˜ˆìˆ˜ë‹˜ì„ ë¯¿ê³  ë³€í™”ë˜ëŠ” ê²ƒì„ ë³´ëŠ” ê²ƒì´ ì œ ì‚¶ì˜ ê°€ì¥ í° ì†Œì›ì…ë‹ˆë‹¤.' }
            ]},
            { id: 'evangelism', name: 'ì „ë„', questions: [
                { id: 12, text: 'ë¯¿ì§€ ì•ŠëŠ” ì‚¬ëŒë“¤ì—ê²Œ ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ê°€ê°€ ì˜ˆìˆ˜ë‹˜ì„ ì†Œê°œí•˜ê³  ë³µìŒì„ ì „í•˜ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤.' },
                { id: 37, text: 'ì œê°€ ì˜ˆìˆ˜ë‹˜ì„ ë¯¿ê³  ë³€í™”ëœ ì‚¶ì˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆŒ ë•Œ, ë¯¿ì§€ ì•ŠëŠ” ì¹œêµ¬ë“¤ì´ ë§ˆìŒì„ ì—½ë‹ˆë‹¤.' },
                { id: 62, text: 'ë¯¿ì§€ ì•ŠëŠ” ì¹œêµ¬ë“¤ê³¼ ì¢‹ì€ ê´€ê³„ë¥¼ ìœ ì§€í•˜ë©´ì„œë„, ì œ ì‹ ì•™ì„ ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„í•˜ëŠ” í¸ì…ë‹ˆë‹¤.' },
                { id: 87, text: 'ì£¼ë³€ ì‚¬ëŒë“¤ì´ ë³µìŒì„ ì „í•˜ì§€ ì•Šì„ ë•Œ ì•ˆíƒ€ê¹Œìš´ ë§ˆìŒì´ ë“¤ê³ , ë” ì—´ì‹¬íˆ ì „ë„í•´ì•¼ê² ë‹¤ëŠ” ë™ê¸°ë¶€ì—¬ë¥¼ ë°›ìŠµë‹ˆë‹¤.' },
                { id: 112, text: 'ë¯¿ì§€ ì•ŠëŠ” ì‚¬ëŒë“¤ì—ê²Œ ë³µìŒì„ ì „í•˜ë ¤ëŠ” ì§„ì‹¬ ë•Œë¬¸ì—, ê·¸ë“¤ì—ê²Œ ì¢‹ì€ ì¸ìƒì„ ì£¼ëŠ” í¸ì…ë‹ˆë‹¤.' }
            ]},
            { id: 'hospitality', name: 'ëŒ€ì ‘', questions: [
                { id: 13, text: 'ëˆ„êµ¬ë“ ì§€ ìš°ë¦¬ ì§‘ì— í¸í•˜ê²Œ ë¨¸ë¬¼ë‹¤ ê°ˆ ìˆ˜ ìˆë„ë¡ ì§‘ì„ ê°œë°©í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤.' },
                { id: 38, text: 'êµíšŒë‚˜ ê³µë™ì²´ í–‰ì‚¬ê°€ ìˆì„ ë•Œ, ìŒì‹ì„ ì¤€ë¹„í•˜ê±°ë‚˜ ìë¦¬ë¥¼ ì •ë¦¬í•˜ëŠ” ë“± ëª¸ìœ¼ë¡œ ì„¬ê¸°ëŠ” ê²ƒì„ ê¸°ë»í•©ë‹ˆë‹¤.' },
                { id: 63, text: 'ìš°ë¦¬ ì§‘ì— ë°©ë¬¸í•œ ì‚¬ëŒë“¤ì€ ë§ˆì¹˜ ìê¸° ì§‘ì²˜ëŸ¼ í¸ì•ˆí•˜ê³  ì•„ëŠ‘í•˜ë‹¤ê³  ë§í•©ë‹ˆë‹¤.' },
                { id: 88, text: 'ì‚¬ëŒë“¤ì€ ì œê°€ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì„ ëŒ€ì ‘í•˜ê³  ì±™ê²¨ì£¼ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤ê³  ì´ì•¼ê¸°í•©ë‹ˆë‹¤.' },
                { id: 113, text: 'í•„ìš”í•˜ë‹¤ë©´ ì–¸ì œë“ ì§€ ì œ ê³µê°„ì„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì„ ìœ„í•´ ê¸°êº¼ì´ ë‚´ì–´ì¤„ ë§ˆìŒì´ ìˆìŠµë‹ˆë‹¤.' }
            ]},
            { id: 'faith', name: 'ë¯¿ìŒ', questions: [
                { id: 14, text: 'ì–´ë–¤ ëª¨ì„ì—ì„œë“  ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì˜ê²¬ì„ ì¢…í•©í•˜ê³  ë°©í–¥ì„ ì œì‹œí•˜ëŠ” ì—­í• ì„ ë§¡ê²Œ ë©ë‹ˆë‹¤.' },
                { id: 39, text: 'ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ìƒí™©ì—ì„œë„, í•˜ë‚˜ë‹˜ì´ ì¼í•˜ì‹¤ ê²ƒì„ êµ³ê²Œ ë¯¿ê³  ë‚˜ì•„ê°‘ë‹ˆë‹¤.' },
                { id: 64, text: 'ì‚¬ëŒë“¤ì€ ì œê°€ ë³´í†µ ì‚¬ëŒë“¤ì´ ìƒê°í•˜ê¸° í˜ë“  í° ë¹„ì „ì„ í’ˆê³  ë¯¿ìŒìœ¼ë¡œ ë„ì „í•œë‹¤ê³  ë§í•©ë‹ˆë‹¤.' },
                { id: 89, text: 'í•˜ë‚˜ë‹˜ì˜ ì‚¬ì—­ì´ ì•ìœ¼ë¡œ ì–´ë–»ê²Œ í¼ì³ì§ˆì§€ì— ëŒ€í•œ íŠ¹ë³„í•œ í™•ì‹ ê³¼ ê·¸ë¦¼ì´ ë³´ì¼ ë•Œê°€ ìˆìŠµë‹ˆë‹¤.' },
                { id: 114, text: 'ì¢…ì¢… í•˜ë‚˜ë‹˜ì´ ì£¼ì‹œëŠ” ë‹´ëŒ€í•œ ê¿ˆê³¼ ë¹„ì „ì„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë‚˜ëˆ„ë©°, ê·¸ë“¤ì„ ê²©ë ¤í•©ë‹ˆë‹¤.' }
            ]},
            { id: 'administration', name: 'ë‹¤ìŠ¤ë¦¼(ë¦¬ë”ì‹­)', questions: [
                { id: 16, text: 'ì²´ê³„ê°€ ì¡íˆì§€ ì•Šì€ ëª¨ì„ì´ë‚˜ ì¡°ì§ì˜ ì•½ì ì„ íŒŒì•…í•˜ê³ , ë” ë‚˜ì€ ë°©í–¥ìœ¼ë¡œ ê°œì„ í•˜ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤.' },
                { id: 41, text: 'ì–´ë–¤ ëª©í‘œë¥¼ ì´ë£¨ê¸° ìœ„í•´ í•„ìš”í•œ ì•„ì´ë””ì–´, ì‚¬ëŒ, ìì› ë“±ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì¡°ì§í•˜ê³  ê³„íší•˜ëŠ” ë° ëŠ¥ìˆ™í•©ë‹ˆë‹¤.' },
                { id: 66, text: 'ê³µë™ì²´ì˜ ëª©í‘œë¥¼ ëª…í™•í•˜ê²Œ ì„¤ì •í•˜ê³ , êµ¬ì„±ì›ë“¤ì´ ê·¸ ëª©í‘œë¥¼ í•¨ê»˜ ì´ë£¨ë„ë¡ ì´ë„ëŠ” ê²ƒì— ìì‹  ìˆìŠµë‹ˆë‹¤.' },
                { id: 91, text: 'ì‚¬ëŒë“¤ì—ê²Œ ì–µì§€ë¡œ ê°•ìš”í•˜ì§€ ì•Šê³ ë„, ê·¸ë“¤ì´ ìë°œì ìœ¼ë¡œ ë”°ë¥´ê³  í•¨ê»˜í•˜ë„ë¡ ì´ëŒì–´ ê°‘ë‹ˆë‹¤.' },
                { id: 116, text: 'êµíšŒë‚˜ ê³µë™ì²´ì—ì„œ ì–´ë–¤ ì¼ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ìˆ˜í•´ì•¼ í•˜ëŠ” ì±…ì„ì„ ë§¡ëŠ” ê²ƒì„ ì¦ê±°ì›Œí•©ë‹ˆë‹¤.' }
            ]},
            { id: 'poverty', name: 'ì²­ë¹ˆ(ìë°œì  ê°€ë‚œ)', questions: [
                { id: 21, text: 'ë” í¸ì•ˆí•˜ê²Œ ì‚´ ìˆ˜ ìˆì§€ë§Œ, í•˜ë‚˜ë‹˜ ë‚˜ë¼ì™€ ì´ì›ƒì„ ìœ„í•´ ìë°œì ìœ¼ë¡œ ì†Œë°•í•˜ê³  ê²€ì†Œí•œ ì‚¶ì„ ì‚½ë‹ˆë‹¤.' },
                { id: 46, text: 'ê¼­ í•„ìš”í•œ ê²ƒ ì™¸ì—ëŠ” ì†Œìœ í•˜ì§€ ì•ŠëŠ” ë‹¨ìˆœí•œ ì‚¶ì˜ ë°©ì‹ì—ì„œ ê¸°ì¨ê³¼ ììœ í•¨ì„ ëŠë‚ë‹ˆë‹¤.' },
                { id: 71, text: 'ë¬¼ì§ˆì ìœ¼ë¡œ ë„‰ë„‰í•˜ì§€ ì•Šì€ ì‚¬ëŒë“¤ì˜ ì‚¶ì— ê¹Šì´ ê³µê°í•˜ë©°, ê·¸ë“¤ê³¼ ì‰½ê²Œ ì–´ìš¸ë¦½ë‹ˆë‹¤.' },
                { id: 96, text: 'ì‚¬ëŒë“¤ì€ ì œê°€ ì£¼ë‹˜ì˜ ì¼ì„ ìœ„í•´ ìì‹ ì˜ ë¬¼ì§ˆì„ ë„ˆë¬´ ë§ì´ í¬ìƒí•œë‹¤ê³  ê±±ì •í•  ë•Œê°€ ìˆìŠµë‹ˆë‹¤.' },
                { id: 121, text: 'ë¬¼ì§ˆì— ì–½ë§¤ì´ì§€ ì•ŠëŠ” ì œ ì‚¶ì˜ íƒœë„ê°€ ê°€ë‚œí•œ ì‚¬ëŒë“¤ì—ê²Œ ìœ„ë¡œì™€ ë™ì§ˆê°ì„ ì¤ë‹ˆë‹¤.' }
            ]},
            { id: 'intercession', name: 'ì¤‘ë³´ê¸°ë„', questions: [
                { id: 23, text: 'ë‹¤ë¥¸ ì–´ë–¤ ê²ƒë³´ë‹¤ ê¸°ë„ì˜ ì‹œê°„ì„ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë©°, ë§¤ì¼ ê¾¸ì¤€íˆ ì§€í‚¤ë ¤ê³  ë…¸ë ¥í•©ë‹ˆë‹¤.' },
                { id: 48, text: 'ëˆ„êµ°ê°€ì—ê²Œ ê¸°ë„ ë¶€íƒì„ ë°›ìœ¼ë©´, ê·¸ ê¸°ë„ ì œëª©ì„ ìŠì§€ ì•Šê³  ì˜¤ë«ë™ì•ˆ ë§ˆìŒì— í’ˆê³  ê¸°ë„í•©ë‹ˆë‹¤.' },
                { id: 73, text: 'ë‹¤ë¥¸ ì‚¬ëŒì´ë‚˜ ê³µë™ì²´ë¥¼ ìœ„í•´ ê¸°ë„í•˜ëŠ” ì‹œê°„ì´ ì œê²ŒëŠ” ê°€ì¥ ì˜ë¯¸ ìˆê³  ì¦ê±°ìš´ ì‹œê°„ì…ë‹ˆë‹¤.' },
                { id: 98, text: 'ì œê°€ ê¸°ë„í•´ ì¤€ ì‚¬ëŒë“¤ì€ ê¸°ë„ë¥¼ í†µí•´ í° í˜ì„ ì–»ê³ , ë†€ë¼ìš´ ì‘ë‹µì„ ê²½í—˜í–ˆë‹¤ê³  ë§í•©ë‹ˆë‹¤.' },
                { id: 123, text: 'ê¸°ë„í•  ë•Œ, í•˜ë‚˜ë‹˜ê»˜ì„œ ì œê²Œ íŠ¹ë³„í•œ ë§ˆìŒì´ë‚˜ ë§ì”€ì„ ì£¼ì‹œë©° ì‘ë‹µí•˜ì‹œëŠ” ê²ƒì„ ìì£¼ ê²½í—˜í•©ë‹ˆë‹¤.' }
            ]},
            { id: 'service', name: 'ë´‰ì‚¬', questions: [
                { id: 25, text: 'êµíšŒë‚˜ ê³µë™ì²´ì— í•„ìš”í•œ ì¼ì´ ìƒê²¼ì„ ë•Œ, ëˆ„ê°€ ì‹œí‚¤ì§€ ì•Šì•„ë„ ê¸°ì˜ê²Œ ì°¸ì—¬í•©ë‹ˆë‹¤.' },
                { id: 50, text: 'íŠ¹ë³„í•œ ê¸°ìˆ ì€ ì—†ì§€ë§Œ, ê³µë™ì²´ë¥¼ ìœ„í•´ ê¶‚ì€ì¼ì´ë¼ë„ ê¸°êº¼ì´ í•˜ëŠ” í¸ì…ë‹ˆë‹¤.' },
                { id: 75, text: 'ì‚¬ëŒë“¤ì€ ì œê°€ ë‹¨ìˆœí•˜ê³  ë°˜ë³µë˜ëŠ” ì¼ì´ë¼ë„ ì‹«ì¦ ë‚´ì§€ ì•Šê³  ê¾¸ì¤€íˆ ì˜ ê°ë‹¹í•œë‹¤ê³  ì¹­ì°¬í•©ë‹ˆë‹¤.' },
                { id: 100, text: 'ê°€ë§Œíˆ ì•‰ì•„ ìˆê¸°ë³´ë‹¤, ì§ì ‘ ëª¸ì„ ì›€ì§ì—¬ ë¬´ì–¸ê°€ í–‰ë™ìœ¼ë¡œ ì„¬ê¸°ëŠ” ê²ƒì„ ë” ì¢‹ì•„í•©ë‹ˆë‹¤.' },
                { id: 125, text: 'ì•„ë¬´ë¦¬ ì‘ê³  ì‚¬ì†Œí•´ ë³´ì´ëŠ” ì¼ì´ë¼ë„, ê³µë™ì²´ë¥¼ ìœ„í•œ ì„¬ê¹€ì˜ ê¸°íšŒê°€ ì£¼ì–´ì§€ë©´ ê¸°ì¨ìœ¼ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.' }
            ]},
            {id: 'administration', name: 'í–‰ì •', questions: [
                { id: 201, text: 'ì¡°ì§ì˜ ëª©í‘œë¥¼ ëª…í™•í•˜ê²Œ ì„¸ìš°ê³ , ê·¸ ëª©í‘œë¥¼ ì´ë£¨ê¸° ìœ„í•œ êµ¬ì²´ì ì¸ ê³„íšì„ ì„¸ìš°ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤.' },
                { id: 202, text: 'ë‹¤ì–‘í•œ ìì›(ì‚¬ëŒ, ì‹œê°„, ì¬ì •)ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ê°€ì¥ íš¨ê³¼ì ì¸ ê³³ì— ë°°ì¹˜í•˜ëŠ” ë° ê°•ì ì´ ìˆìŠµë‹ˆë‹¤.' },
                { id: 203, text: 'ì‚¬ëŒë“¤ì€ ì œê°€ ë§¡ì€ ì¼ì´ë‚˜ í”„ë¡œì íŠ¸ê°€ ì§ˆì„œì •ì—°í•˜ê²Œ ì˜ ì§„í–‰ëœë‹¤ê³  ìì£¼ ë§í•©ë‹ˆë‹¤.' },
                { id: 204, text: 'ë³µì¡í•œ ì¼ì„ ë‹¨ê³„ë³„ë¡œ ë‚˜ëˆ„ê³  ìš°ì„ ìˆœìœ„ë¥¼ ì •í•´ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë° ìì‹  ìˆìŠµë‹ˆë‹¤.' },
                { id: 205, text: 'ì œê°€ ì†í•œ ëª¨ì„ì´ë‚˜ ì¡°ì§ì€ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì ì  ë” ì•ˆì •ì ì´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤.' }
            ]}
        ];

        const questionsContainer = document.getElementById('questions-container');
        const form = document.getElementById('gifts-form');
        const resultsDiv = document.getElementById('results');
        const resultsList = document.getElementById('results-list');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        let allQuestions = [];

        giftsData.forEach(gift => { 
            gift.questions.forEach(question => {
                allQuestions.push({ 
                    ...question, 
                    giftId: gift.id, 
                    giftName: gift.name 
                });
            });
        });

        allQuestions.sort(() => Math.random() - 0.5);
        
        const totalQuestions = allQuestions.length;
        progressText.textContent = `0 / ${totalQuestions}`;

        allQuestions.forEach((question, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.innerHTML = `
                <p class="question-text">${index + 1}. ${question.text}</p>
                <div class="score-selector">
                    <button type="button" class="score-btn" data-value="3">3</button>
                    <button type="button" class="score-btn" data-value="2">2</button>
                    <button type="button" class="score-btn" data-value="1">1</button>
                    <button type="button" class="score-btn" data-value="0">0</button>
                </div>
                <input type="hidden" name="q${question.id}" data-gift-id="${question.giftId}" value="">
            `;
            questionsContainer.appendChild(card);
        });

        questionsContainer.addEventListener('click', function(e) {
            if (e.target.classList.contains('score-btn')) {
                const button = e.target;
                const value = button.dataset.value;
                const parentSelector = button.parentElement;
                const questionCard = parentSelector.parentElement;
                const hiddenInput = questionCard.querySelector('input[type="hidden"]');
                
                parentSelector.querySelectorAll('.score-btn').forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                hiddenInput.value = value;
                
                updateProgress();
            }
        });
        
        function updateProgress() {
            const answeredQuestions = document.querySelectorAll('input[type="hidden"][value]:not([value=""])').length;
            const percentage = (answeredQuestions / totalQuestions) * 100;
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `${answeredQuestions} / ${totalQuestions}`;
        }

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const answeredQuestions = document.querySelectorAll('input[type="hidden"][value]:not([value=""])').length;
            if (answeredQuestions < totalQuestions) {
                alert('ëª¨ë“  ë¬¸í•­ì— ë‹µë³€í•´ì£¼ì„¸ìš”.');
                return;
            }

            const scores = {};
            const uniqueGifts = [...new Map(giftsData.map(item => [item.id, item])).values()];

            uniqueGifts.forEach(gift => {
                scores[gift.id] = { 
                    name: gift.name, 
                    score: 0, 
                    questionCount: giftsData.filter(g => g.id === gift.id).reduce((acc, cur) => acc + cur.questions.length, 0)
                };
            });

            document.querySelectorAll('input[type="hidden"]').forEach(input => {
                if (input.value !== '') {
                    const giftId = input.dataset.giftId;
                    scores[giftId].score += parseInt(input.value);
                }
            });
            
            const sortedGifts = Object.entries(scores).map(([id, data]) => {
                return { id, ...data };
            }).sort((a, b) => b.score - a.score);

            displayResults(sortedGifts.slice(0, 5));
        });

        function displayResults(topGifts) {
            resultsList.innerHTML = '';
            const rankPrefix = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰', '4', '5'];
            
            resultsDiv.querySelector('h2').textContent = `ë‚˜ì˜ ì€ì‚¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼ (ìƒìœ„ ${topGifts.length}ê°œ)`;

            topGifts.forEach((gift, index) => {
                if (gift.score === 0) return;

                const maxScore = gift.questionCount * 3;
                const percentage = maxScore > 0 ? (gift.score / maxScore) * 100 : 0;

                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="rank">${rankPrefix[index] || (index + 1)}</div>
                    <div class="result-details">
                        <p class="gift-name">${gift.name}</p>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 0%;" data-percentage="${percentage}">
                                ${gift.score}ì 
                            </div>
                        </div>
                    </div>`;
                resultsList.appendChild(resultItem);
            });

            resultsDiv.style.display = 'block';
            
            setTimeout(() => {
                resultsDiv.querySelectorAll('.progress-bar').forEach(bar => {
                    bar.style.width = bar.dataset.percentage + '%';
                });
            }, 100);

            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>
</body>
</html>
